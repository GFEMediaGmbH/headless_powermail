{namespace vh=In2code\Powermail\ViewHelpers}
<f:spaceless>
    <headlesspowermail:form.registerField property="{field.marker}"/>
    <f:format.raw>
        <f:format.json value="{
            field: {
                type: 'content',
                marker: field.marker,
                css: field.css,
                fieldAndLabelWrappingClasses: settings.styles.framework.fieldAndLabelWrappingClasses,
                fieldWrappingClasses: settings.styles.framework.fieldWrappingClasses,
                offsetClasses: settings.styles.framework.offsetClasses,
                value: '{vh:misc.contentElement(uid:field.contentElement) -> headless:format.json.decode()}',
                name: '{headlesspowermail:form.generateName(property:field.marker)}'
            }
        }"/>
    </f:format.raw>
</f:spaceless>
