{namespace vh=In2code\Powermail\ViewHelpers}
<f:spaceless>
    <hlpowermail:form.registerField property="{field.marker}"/>
    <f:format.raw>
        <f:format.json value="{
            field: {
                label: '{f:render(partial: \'Form/FieldLabel\', arguments: \'{_all}\') -> headless:format.json.decode()}',
                marker: field.marker,
                name: '{hlpowermail:form.generateName(property:field.marker)}',
                css: field.css,
                fieldWrappingClasses: settings.styles.framework.fieldWrappingClasses,
                fieldAndLabelWrappingClasses: settings.styles.framework.fieldAndLabelWrappingClasses,
                type: 'textarea',
                value: '{vh:misc.prefillField(field:field, mail:mail)}',
                placeholder: field.placeholder,
                fieldClasses: settings.styles.framework.fieldClasses,
                validationClass: '{vh:validation.errorClass(field:field, class:\'powermail_field_error\')}',
                additionalAttributes: '{vh:validation.validationDataAttribute(field:field)}',
                id: 'powermail_field_{field.marker}'
            }
        }"/>
    </f:format.raw>
</f:spaceless>
